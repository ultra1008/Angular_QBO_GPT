<div class="wrapper-cust-admin" fxLayout style="height: 95%">

    <div class="d-flex justify-content-between">

        <h1 class="screen-title">
            {{ "Rovuk_Invoice_Roles_Invoice" | translate | titlecase }}
        </h1>
        <div class="row mr-2 action-button">
            <button mat-raised-button color="primary" (click)="importProcessData()" class="sign-button ml-2"><img
                    src="{{add_my_self_icon}}" alt="" height="20px">
                Import Data
            </button>
            <button mat-raised-button color="primary" (click)="openAddDialog()" class="sign-button ml-2"><img
                    src="{{add_my_self_icon}}" alt="" height="20px">
                {{'Add_invoice' | translate }}
            </button>
            <!-- <button *ngIf="isManagement" mat-raised-button color="primary" class="sign-button ml-2"
            (click)="importManagementInvoice();"><img src="{{add_my_self_icon}}" alt="" height="20px">
            {{'Import_Management_Invoice' | translate }}
        </button> -->
            <button *ngIf="isManagement" mat-raised-button color="primary" class="sign-button ml-2"
                (click)="importManagementPO();"><img src="{{add_my_self_icon}}" alt="" height="20px">
                {{'Import_Management_PO' | translate }}
            </button>
        </div>
    </div>
    <div class="display-inline-cust">
        <div class="main-search-bar">
            <div class="row d-flex justify-content-between m-3 py-3">
                <div class="mt-2">
                    <button mat-raised-button color="primary" class="sign-button cust-margin-div mr-1">
                        <div class="row d-flex justify-content-between px-2">
                            <div class="mr-4">Exported</div>
                            <div>{{invoiceCount.complete}}</div>
                        </div>
                    </button>
                    <button mat-raised-button class=" btn-success sign-button cust-margin-div mr-1">
                        <div class="row d-flex justify-content-between px-2">
                            <div class="mr-4">Not Exported</div>
                            <div>{{invoiceCount.pending}}</div>
                        </div>
                    </button>

                </div>
                <div>
                    <button class="import-export-btn-datatable button_workersEditClass cust-margin-div"
                        (click)="invoiceReportDialog()" matTooltip="{{ 'TOOLTIP_REPORT' | translate }}"
                        aria-label="Left Align">
                        <img src="{{reportIcon}}" alt="" height="20px">
                    </button>
                    <!-- 
                    <button mat-stroked-button class="mr-1" (click)="gridTolist();"> {{
                        btn_grid_list_text }} </button> -->
                    <button mat-stroked-button class="sign-button mr-1" (click)="gridTolist();">
                        <img src="{{gridIcon}}" alt="" class="pr-1" height="15px" width="20px" *ngIf="!gridtolist" />

                        <img src="{{listIcon}}" alt="" class="pr-1" height="15px" width="20px" *ngIf="gridtolist" />
                        {{btn_grid_list_text}}
                    </button>
                    <mat-form-field class="mr-1" appearance="outline">
                        <mat-label>Due Date</mat-label>
                        <input matInput>
                        <mat-datepicker-toggle matSuffix></mat-datepicker-toggle>
                        <mat-datepicker></mat-datepicker>
                    </mat-form-field>
                    <mat-form-field class="mr-1" appearance="outline">
                        <mat-label>Status</mat-label>
                        <input matInput placeholder="Status" />
                    </mat-form-field>

                    <mat-form-field class="" appearance="outline">
                        <mat-label>Serach</mat-label>
                        <input matInput placeholder="Serach" />
                    </mat-form-field>

                </div>
            </div>


        </div>

    </div>
    <div class="pt-3" style="float: right;">

    </div>
    <div class="row ml-3" *ngIf="gridtolist">
        <div class="card mb-3 mr-4" *ngFor="let invoice of allInvoices">
            <div class="card-body">
                <!--  <div class="pt-2 pb-2">
                    <img src="assets\images\currentplaceholder.png" class="img-responsive cardsmall img-fluid"
                        style="height: 100px; width: 100px; object-fit: contain;" alt="">
                </div> -->
                <div class="data">
                    <div class="row dropdown">
                        <div class="col-9" (click)="viewInvoice(invoice)"></div>
                        <div class="col-3" style="float: right;"><!-- <i class="fas fa-ellipsis-v cust-fontsize-tmp float-right-cust" aria-hidden="true"></i>
                        <div class="dropdown-content-cust">
                            <a (click)="viewInvoice(invoice);"><img src="{{viewIcon}}" alt="" height="20px">
                                {{'All-View' |
                                translate}}</a>
                            <a (click)="editInvoice(invoice)"><img src="{{{{'All-Edit' | translate}}}}" alt="" height="20px">
                                {{'All-Edit' | translate}}</a>
                        </div> -->
                            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button (click)="viewInvoice(invoice)" class="button_shiftEditClass" mat-menu-item>
                                    <span><img src="{{viewIcon}}" alt="" height="15px">
                                        {{'All-View' |
                                        translate}}</span>
                                </button>
                                <button (click)="editInvoice(invoice)" class="button_shiftDeleteClass" mat-menu-item>
                                    <span><img src="{{editIcon}}" alt="" height="15px">
                                        {{'All-Edit' | translate}}</span>
                                </button>
                            </mat-menu>
                        </div>

                    </div>
                    <div (click)="viewInvoice(invoice)">
                        <b>Invoice # </b> <span>{{invoice.invoice}}</span>
                        <br />
                        <b>P.O # </b> <span>{{invoice.p_o}}</span>
                        <br />
                        <b>Packing Slip </b> <span>{{invoice.packing_slip}}</span>
                        <br />
                        <b>Receiving Slip </b> <span>{{invoice.receiving_slip}}</span>
                        <br />
                        <b>Files Attached # </b> <span></span>
                        <br />
                        <!-- <b>Notes </b> <span>{{invoice.notes}}</span> -->
                        <!-- <br /> -->
                        <b
                            [ngClass]="invoice.status == 'Pending'? 'pendingcss' : 'Approvedcss' && invoice.status == 'Approved'? 'Approvedcss' : 'Rejectcss'&& invoice.status == 'Rejected'? 'Rejectcss' : 'Rejectcss'">

                            <span>{{invoice.status}}</span></b>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <div class=" cust-padding-tmp">
        <div *ngIf="!gridtolist" class="margin-cust-top table-responsive cust-padding-tmp">
            <div>
                <table *ngIf="showInvoiceTable" datatable [dtOptions]="dtOptions" class="row-border hover  ">
                    <thead>
                        <tr>
                            <th>{{"invoice_no" | translate}}</th>
                            <th>{{"po_no" | translate}}</th>
                            <th>{{"packing_slip_no" | translate}}</th>
                            <th>{{"Receiving_Slip" | translate}}</th>
                            <th>{{"Receiving_Attachment" | translate}}</th>
                            <!-- <th>{{"template_notes" | translate}}</th> -->
                            <th>{{"Employee-form-Status" | translate}}</th>
                            <th width="1%" data-orderable="false">{{"All-Action" | translate }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let invoice of allInvoices">
                            <td>{{ invoice.invoice }}</td>
                            <td>{{ invoice.p_o }}</td>
                            <td>{{ invoice.packing_slip }}</td>
                            <td>{{ invoice.receiving_slip }}</td>
                            <td></td>
                            <!-- <td>{{ invoice.notes }}</td> -->
                            <td width="1%">{{ invoice.status }}</td>
                            <td width="1%">
                                <div>
                                    <div class="dropdown">
                                        <i class="fas fa-ellipsis-v cust-fontsize-tmp float-right-cust"
                                            aria-hidden="true"></i>
                                        <div class="dropdown-content-cust">
                                            <a (click)="viewInvoice(invoice);"><img src="{{viewIcon}}" alt=""
                                                    height="20px">
                                                {{'All-View' |
                                                translate}}</a>
                                            <a (click)="editInvoice(invoice)"><img src="{{editIcon}}" alt=""
                                                    height="20px">
                                                {{'All-Edit' | translate}}</a>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>
